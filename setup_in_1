!git clone https://github.com/Tencent-Hunyuan/Hunyuan3D-2.git
%cd Hunyuan3D-2/
!pip install -r requirements.txt
!pip install -e .
%cd hy3dgen/texgen/custom_rasterizer
!python setup.py install
%cd ../../..
%cd hy3dgen/texgen/differentiable_renderer
!python setup.py install
%cd /content/Hunyuan3D-2/
!pip install .




from PIL import Image
from hy3dgen.rembg import BackgroundRemover
from hy3dgen.shapegen import Hunyuan3DDiTFlowMatchingPipeline
from hy3dgen.texgen import Hunyuan3DPaintPipeline

model_path = 'tencent/Hunyuan3D-2'
pipeline_shapegen = Hunyuan3DDiTFlowMatchingPipeline.from_pretrained(model_path)
pipeline_texgen = Hunyuan3DPaintPipeline.from_pretrained(model_path)

# image_path = 'assets/demo.png'
image_path = "assets/tan-removebg-preview.png"
image = Image.open(image_path).convert("RGBA")
if image.mode == 'RGB':
    rembg = BackgroundRemover()
    image = rembg(image)

mesh = pipeline_shapegen(image=image)[0]
mesh = pipeline_texgen(mesh, image=image)
mesh.export('textured_demo.glb')
mesh.export('textured_demo.stl')
